# Stage 1: Onset prediction model configuration
d_model: 512
nhead: 8
num_layers: 2
num_difficulties: 5
num_genres: 11
dropout: 0.1

# Training
learning_rate: 0.0003
weight_decay: 0.01
label_smoothing_sigma: 3  # Gaussian smoothing width in frames
pos_weight: 5.0  # BCE positive class weight (onsets are ~5% of frames)

# Dataset windowing
window_size: 256  # Frames per sliding window
hop: 128  # Hop between windows

# Inference
onset_threshold: 0.5
min_onset_distance_ms: 50  # Minimum gap between onsets
min_onset_distance_frames: 5  # Minimum frames between predicted onsets
